# VA-PC Admin Panel - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã](#–Ω–∞—á–∞–ª–æ-—Ä–∞–±–æ—Ç—ã)
2. [–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É](#–≤—Ö–æ–¥-–≤-—Å–∏—Å—Ç–µ–º—É)
3. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∞–º–∏ –ü–ö](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–±–æ—Ä–∫–∞–º–∏-–ø–∫)
4. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ü–∏—è–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∞–∫—Ü–∏—è–º–∏)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∏](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
6. [–ú–µ–¥–∏–∞-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞](#–º–µ–¥–∏–∞-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
7. [–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞](#–∫–∞—Ç–µ–≥–æ—Ä–∏–∏-–∏-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)
8. [–õ–∏–¥—ã](#–ª–∏–¥—ã)
9. [–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏](#–≥–æ—Ä—è—á–∏–µ-–∫–ª–∞–≤–∏—à–∏)
10. [Troubleshooting](#troubleshooting)

---

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- Node.js 20+
- pnpm 8+
- PostgreSQL 14+
- Redis 6+ (–¥–ª—è BullMQ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd apps/miniapp
pnpm install

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env.local
cp .env.example .env.local
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
# - DATABASE_URL
# - JWT_SECRET (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
# - REDIS_HOST, REDIS_PORT

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
pnpm db:migrate

# 4. –°–æ–∑–¥–∞—Ç—å seed –¥–∞–Ω–Ω—ã–µ (–≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞)
pnpm db:seed

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
pnpm dev
```

### –¢–µ—Å—Ç–æ–≤—ã–π –∞–¥–º–∏–Ω (—Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ seed)

- **Email**: `test@va-pc.ru`
- **Password**: `TestPassword123!`
- **–†–æ–ª—å**: SUPER_ADMIN

---

## –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

### URL –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

```
http://localhost:3001/admin
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –Ω–∞ `/admin` –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ `/admin/auth/login`.

### –ü—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

1. –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å
2. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è JWT-—Ç–æ–∫–µ–Ω —Å–µ—Å—Å–∏–∏
3. –°–µ—Å—Å–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ httpOnly cookie
4. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏: 7 –¥–Ω–µ–π

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º

**–†–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**:

- `SUPER_ADMIN` - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- `ADMIN` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø (–≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö)

**Middleware –∑–∞—â–∏—Ç–∞**:

–í—Å–µ `/admin/*` —Ä–æ—É—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã middleware, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
1. –ù–∞–ª–∏—á–∏–µ —Å–µ—Å—Å–∏–∏ (JWT cookie)
2. –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞
3. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`active: true`)

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∞–º–∏ –ü–ö

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–±–æ—Ä–∫–∏

**–ù–∞–≤–∏–≥–∞—Ü–∏—è**: `Admin Panel ‚Üí PC Builds ‚Üí Create New`

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è**:

- **–ù–∞–∑–≤–∞–Ω–∏–µ** (title) - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **–û–ø–∏—Å–∞–Ω–∏–µ** (description) - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è** (category) - Gaming, Workstation, Budget –∏ —Ç.–¥.
- **–¶–µ–Ω–∞** (finalPrice) - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞–∫—Ü–∏–π
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** (active) - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:

–î–ª—è –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞:

- CPU (–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä)
- GPU (–≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞)
- RAM (–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å)
- Storage (–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å)
- Motherboard (–º–∞—Ç–µ—Ä–∏–Ω—Å–∫–∞—è –ø–ª–∞—Ç–∞)
- Power Supply (–±–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è)
- Cooling (—Å–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è)
- Case (–∫–æ—Ä–ø—É—Å)

**–ú–µ–¥–∏–∞**:

- –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ Media Picker
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è blurhash –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

**–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `‚åòS` (macOS) –∏–ª–∏ `Ctrl+S` (Windows) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–∫–∏–Ω—É—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –Ω–µ—Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

### FPS Metrics

–î–ª—è –∏–≥—Ä–æ–≤—ã—Ö —Å–±–æ—Ä–æ–∫ –¥–æ–±–∞–≤—å—Ç–µ FPS –º–µ—Ç—Ä–∏–∫–∏:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "FPS Metrics"
2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
3. –£–∫–∞–∂–∏—Ç–µ FPS –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞—á–µ—Å—Ç–≤–∞:
   - Ultra (—É–ª—å—Ç—Ä–∞)
   - High (–≤—ã—Å–æ–∫–∏–µ)
   - Medium (—Å—Ä–µ–¥–Ω–∏–µ)
   - Low (–Ω–∏–∑–∫–∏–µ)

### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤ Mini App

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "Preview in Mini App" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Telegram Mini App –≤ —Ä–µ–∂–∏–º–µ draft
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ —Å–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ü–∏—è–º–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫—Ü–∏–∏

**–ù–∞–≤–∏–≥–∞—Ü–∏—è**: `Admin Panel ‚Üí Promotions ‚Üí Create New`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–∫—Ü–∏–∏**:

1. **–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**:
   - Slug (URL-friendly ID)
   - –ù–∞–∑–≤–∞–Ω–∏–µ
   - –û–ø–∏—Å–∞–Ω–∏–µ
   - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

2. **–í—Ä–µ–º–µ–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥**:
   - –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ (startsAt)
   - –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (endsAt)

3. **–°–∫–∏–¥–∫–∞**:
   - –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏ (discountPercent)
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–∏–¥–∫–∞ –≤ —Ä—É–±–ª—è—Ö (maxDiscountAmount)

4. **–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**:
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (minPrice)
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (maxPrice)
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (categories) - –≤—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–±–æ—Ä–∫–∏ (pcBuildIds) - ID –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–±–æ—Ä–æ–∫

### Preview Affected Items

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∞–∫—Ü–∏–∏ –ø–∞–Ω–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö —Å–±–æ—Ä–æ–∫
- –°–ø–∏—Å–æ–∫ —Å–±–æ—Ä–æ–∫ —Å –Ω–æ–≤—ã–º–∏ —Ü–µ–Ω–∞–º–∏
- –†–∞—Å—á—ë—Ç —ç–∫–æ–Ω–æ–º–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü—Ä–∏–º–µ—Ä**:

```
–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞: 150,000 ‚ÇΩ
–°–∫–∏–¥–∫–∞ 15%: -22,500 ‚ÇΩ
–§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞: 127,500 ‚ÇΩ
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∞–∫—Ü–∏–π

–ï—Å–ª–∏ –Ω–∞ —Å–±–æ—Ä–∫—É —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–∫—Ü–∏–π:

1. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–∫—Ü–∏—è —Å –Ω–∞–∏–±–æ–ª—å—à–µ–π —Å–∫–∏–¥–∫–æ–π
2. –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è maxDiscountAmount
3. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è badge —Å –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º —Å–∫–∏–¥–∫–∏

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### Top-4 PC Builds

**Drag-and-Drop —Ä–µ–¥–∞–∫—Ç–æ—Ä**:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Settings ‚Üí Top-4 Builds`
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å–±–æ—Ä–∫–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞
3. –ù–∞–∂–º–∏—Ç–µ "Save" –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Mini App**:

- Top-4 –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è "–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–±–æ—Ä–∫–∏"
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

### Budget Presets

–†–µ–¥–∞–∫—Ç–æ—Ä –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –±—é–¥–∂–µ—Ç–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:

```json
{
  "budget_low": "50000-100000",
  "budget_mid": "100000-200000",
  "budget_high": "200000-500000"
}
```

### Telegraph Links

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

- Privacy Policy (–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏)
- Public Offer (–ü—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞)
- Personal Data Consent (–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ü–î)
- Review Consent (–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é –æ—Ç–∑—ã–≤–æ–≤)
- FAQ

**–§–æ—Ä–º–∞—Ç**: `https://telegra.ph/[slug]`

---

## –ú–µ–¥–∏–∞-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞

### –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**:

- PNG, JPEG, WEBP
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10 MB
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 1920x1080 –∏–ª–∏ –≤—ã—à–µ

**–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏**:

1. Drag-and-drop —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –∫–ª–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è blurhash –¥–ª—è preview
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ S3 (–∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è dev)

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–µ–¥–∏–∞

- **–§–∏–ª—å—Ç—Ä—ã**: –ü–æ —Ç–∏–ø—É —Ñ–∞–π–ª–∞, –¥–∞—Ç–µ –∑–∞–≥—Ä—É–∑–∫–∏
- **–ü–æ–∏—Å–∫**: –ü–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –ü–æ –¥–∞—Ç–µ, –∏–º–µ–Ω–∏, —Ä–∞–∑–º–µ—Ä—É
- **–£–¥–∞–ª–µ–Ω–∏–µ**: Bulk delete –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ö

Media Picker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º—ã:

```tsx
<MediaPicker
  value={selectedMedia}
  onChange={handleMediaChange}
  multiple={false}
/>
```

---

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

**–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:

```
Gaming (parent)
  ‚îú‚îÄ Entry Gaming (child)
  ‚îú‚îÄ Mid-Range Gaming (child)
  ‚îî‚îÄ High-End Gaming (child)
```

**–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**:

1. –ù–∞–∑–≤–∞–Ω–∏–µ (name)
2. Slug (URL-friendly, –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
3. Parent Category (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (displayOrder)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ –∫–æ—Ç–æ—Ä—ã–µ –≤—Ö–æ–¥—è—Ç –≤ —Å–±–æ—Ä–∫–∏:

**–¢–∏–ø—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤**:

- CPU
- GPU
- RAM
- Storage
- Motherboard
- PSU (Power Supply)
- Cooling
- Case

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**:

- –ù–∞–∑–≤–∞–Ω–∏–µ
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å
- –ú–æ–¥–µ–ª—å
- –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (JSON)
- –¶–µ–Ω–∞
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

## –õ–∏–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–∏–¥–æ–≤

**–ù–∞–≤–∏–≥–∞—Ü–∏—è**: `Admin Panel ‚Üí Leads`

**Read-only —Ç–∞–±–ª–∏—Ü–∞** —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∑–∞—è–≤–∫–∞—Ö:

- ID –ª–∏–¥–∞
- Telegram User ID
- –í—ã–±—Ä–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–µ—Å–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞)
- –°—Ç–∞—Ç—É—Å (new, contacted, converted, closed)
- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

**–§–∏–ª—å—Ç—Ä—ã**:

- –ü–æ —Å—Ç–∞—Ç—É—Å—É
- –ü–æ –¥–∞—Ç–µ
- –ü–æ —Å–±–æ—Ä–∫–µ
- –ü–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É (mini app, website)

**–≠–∫—Å–ø–æ—Ä—Ç**:

- CSV —ç–∫—Å–ø–æ—Ä—Ç –¥–ª—è CRM —Å–∏—Å—Ç–µ–º
- Includes: user_id, build_id, contact, status, created_at

---

## –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ

- `‚åòK` / `Ctrl+K` - Command Palette (–±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫)
- `‚åò/` / `Ctrl+/` - Toggle sidebar

### –í —Ñ–æ—Ä–º–∞—Ö

- `‚åòS` / `Ctrl+S` - Save (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)
- `‚åòEnter` / `Ctrl+Enter` - Submit form (–æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É)
- `Esc` - Close dialog/modal

### –í —Ç–∞–±–ª–∏—Ü–∞—Ö

- `‚Üë‚Üì` - Navigate rows
- `Space` - Select row
- `‚åòA` / `Ctrl+A` - Select all

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

**"Invalid credentials"**:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å email/–ø–∞—Ä–æ–ª—è
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `active: true` –≤ –ë–î
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `JWT_SECRET` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `.env.local`

**"Session expired"**:

- –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞ —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ re-login

### –ü—Ä–æ–±–ª–µ–º—ã —Å Prisma

**"@prisma/client did not initialize yet"**:

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client
pnpm db:generate

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç)
pnpm dev
```

**–û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π**:

```bash
# –°–±—Ä–æ—Å–∏—Ç—å –±–∞–∑—É –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–Ω–æ–≤–æ
pnpm db:reset

# –°–æ–∑–¥–∞—Ç—å seed –¥–∞–Ω–Ω—ã–µ
pnpm db:seed
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –º–µ–¥–∏–∞

**–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è**:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ S3 (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `./uploads` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ permissions –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é uploads

**Blurhash –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è**:

- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Sharp —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `pnpm list sharp`
- –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Sharp: `pnpm add -D sharp`

### Performance Issues

**–ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü**:

- –í–∫–ª—é—á–∏—Ç–µ pagination –≤ DataTable
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ Prisma queries —Å `select` –∏ `include`
- –î–æ–±–∞–≤—å—Ç–µ database indexes –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π

**–ú–µ–¥–ª–µ–Ω–Ω—ã–π Next.js dev server**:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Turbopack: `pnpm dev --turbopack` (—É–∂–µ –≤ package.json)
- –û—á–∏—Å—Ç–∏—Ç–µ `.next` –∫—ç—à: `rm -rf .next`

---

## API Endpoints

### Authentication

```
POST /api/admin/auth/login
POST /api/admin/auth/logout
GET  /api/admin/auth/session
```

### PC Builds

```
GET    /api/admin/pcs
POST   /api/admin/pcs
GET    /api/admin/pcs/[id]
PATCH  /api/admin/pcs/[id]
DELETE /api/admin/pcs/[id]
```

### Promotions

```
GET    /api/admin/promos
POST   /api/admin/promos
PATCH  /api/admin/promos/[id]
DELETE /api/admin/promos/[id]
GET    /api/admin/promos/preview
```

### Settings

```
GET   /api/admin/settings
PATCH /api/admin/settings
```

### Media

```
POST   /api/admin/media/upload
GET    /api/admin/media
DELETE /api/admin/media/[id]
```

### Categories

```
GET    /api/admin/categories
POST   /api/admin/categories
PATCH  /api/admin/categories/[id]
DELETE /api/admin/categories/[id]
```

### Devices

```
GET    /api/admin/devices
POST   /api/admin/devices
PATCH  /api/admin/devices/[id]
DELETE /api/admin/devices/[id]
```

### Leads

```
GET /api/admin/leads
GET /api/admin/leads/export
```

---

## Security Best Practices

### JWT Secret

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å–ª—É—á–∞–π–Ω—ã–π** –∫–ª—é—á –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è: `openssl rand -base64 32`
- **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ JWT_SECRET –≤ git

### Password Management

- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è: 8 —Å–∏–º–≤–æ–ª–æ–≤
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è: –∑–∞–≥–ª–∞–≤–Ω—ã–µ, —Å—Ç—Ä–æ—á–Ω—ã–µ, —Ü–∏—Ñ—Ä—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ: bcrypt —Å salt rounds = 10

### CORS –∏ CSRF

- Admin API –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Å same-origin requests
- CSRF protection —á–µ—Ä–µ–∑ SameSite cookies
- httpOnly cookies –¥–ª—è session —Ç–æ–∫–µ–Ω–æ–≤

### Monitoring

–í—Å–µ admin actions –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ Sentry —Å —Ç–µ–≥–∞–º–∏:

```typescript
{
  adminId: string
  route: string
  feature: string
  action: string
}
```

---

## Support

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Next.js App Router](https://nextjs.org/docs/app)
- [Prisma ORM](https://www.prisma.io/docs)
- [TanStack Table](https://tanstack.com/table/latest)
- [Zod Validation](https://zod.dev)
- [Shadcn/ui](https://ui.shadcn.com)

### –ö–æ–Ω—Ç–∞–∫—Ç—ã

- Technical Support: [support@va-pc.ru](mailto:support@va-pc.ru)
- GitHub Issues: [tg-final/issues](https://github.com/va-pc/tg-final/issues)

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-11-03
